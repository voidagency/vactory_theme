// webform input file
// File
//
// Custom file input.

$input-font-size: .95rem !default;
$custom-file-width: 14rem !default;


.skinned-file {
  .form-managed-file {
    position: relative;
    width: 100%;
    margin-bottom: 0;
    font-size: $input-font-size;

    display: block;
    @include rem(padding, 0 25px);
    border-radius: 0;
    justify-content: space-between;
    align-items: center;
    padding: 0;

    @include transition($input-transition);

    &.is-invalid {
      border-color: #E30613;
    }


    span.file {
      height: 38px;
      font-size: $input-font-size;
      @include rem(padding, 0 25px);
      background-color: #fff;
      border: 1px solid #C7C7C7;
      border-radius: 0;
      overflow: hidden;
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      &:after {
        content: $icon-close-bold;
        display: inline-flex;
        @include rem(font-size, 20px);
        color: $black;
        font-family: 'vactory';
      }

      ~ .form-type-submit {
        position: absolute;
        top: 0;
        right: 0;
        height: 100%;
        opacity: 0;
      }
    }

  }
}




input[type="button"]#file-upload-button {
  float: right;
  padding: 0.375rem 0.75rem;
  color: #495057;
  background-color: #e9ecef;
  border: none;
  border-left: 1px solid #ced4da;
  margin: 0;
  line-height: 1;
  height: 38px;
}
.skinned-file {
  .managed-file-placeholder {
    display: none;
  }
  .form-control[name="files[file]"] {
    padding: 0 0 0 0.75rem;
    line-height: 38px;
    min-height: 38px;
    margin-bottom: 10px;
    &::-webkit-file-upload-button {
      float: right;
      padding: 0.375rem 0.75rem;
      color: #495057;
      background-color: #e9ecef;
      border: none;
      border-left: 1px solid #ced4da;
      margin: 0;
      line-height: 1;
      height: 38px;
    }
  }
  .form-check {
    margin-bottom: 0;
  }
}

.skinned-multiple-file {
  .managed-file-placeholder {
    display: none;
  }
  .form-control[multiple="multiple"] {
    padding: 0 0 0 0.75rem;
    line-height: 38px;
    min-height: 38px;
    margin-bottom: 10px;
    &::-webkit-file-upload-button {
      float: right;
      padding: 0.375rem 0.75rem;
      color: #495057;
      background-color: #e9ecef;
      border: none;
      border-left: 1px solid #ced4da;
      margin: 0;
      line-height: 1;
      height: 38px;
    }
  }
  .form-check {
    margin-bottom: 0;
  }
}




@-moz-document url-prefix() {
  .skinned-file, .skinned-multiple-file {
    .form-managed-file {
      position: relative;
      //display: inline-block;
      width: 100%;
      height: $custom-file-height;
      margin-bottom: 0;
      font-size: $input-font-size;

      display: flex;
      @include rem(padding, 0 25px);
      background-color: #fff;
      border: 1px solid #C7C7C7;
      border-radius: 0;
      justify-content: space-between;
      align-items: center;
      overflow: hidden;

      @include transition($input-transition);

      &.is-invalid {
        border-color: #E30613;
      }


      span.file {
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 0;
        border: none;
        &:after {
          content: $icon-close-bold;
          display: inline-flex;
          @include rem(font-size, 20px);
          color: $black;
          font-family: 'vactory';
        }

        ~ .form-type-submit {
          position: absolute;
          top: 0;
          right: 0;
          height: 100%;
          opacity: 0;
        }
      }
    }

    input[type='file'] {
      //position: relative;
      z-index: 2;
      min-width: $custom-file-width;
      //height: $custom-file-height;
      margin: 0;
      padding: 0;
      opacity: 0;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;

      ~ .form-type-submit {
        opacity: 0;
      }


      &:not(:disabled):hover {
        cursor: pointer;
      }
    }

    .webform-managed-file-placeholder {
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      z-index: 1;
      margin: 0;
      height: $custom-file-height;
      padding: $custom-file-padding-x $custom-file-padding-y;
      line-height: $custom-file-line-height;
      color: $custom-file-color;
      //background-color: $custom-file-bg;
      //border: $custom-file-border-width solid $custom-file-border-color;
      font-weight: $font-weight-normal;
      box-shadow: none; //$custom-file-box-shadow;
      display: flex;
      align-items: center;

      @include transition(box-shadow $transition-duration $ease-in-out-circ, border-color $transition-duration $ease-in-out-circ);
      @include border-radius($custom-file-border-radius);

      &:hover {
        cursor: pointer;
      }

      &::after {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        z-index: 3;
        display: block;
        content: "Choisir un fichier";
        padding: $custom-file-padding-x $custom-file-padding-y;
        // height: $custom-file-height-inner;
        height: 100%;
        line-height: $custom-file-line-height;
        color: $custom-file-button-color;
        border-left: $custom-file-border-width solid $custom-file-border-color;
        display: inline-flex;
        align-items: center;
        @include rtl() {
          right: auto;
          left: 0;
          border-left: none;
          border-right: $custom-file-border-width solid $custom-file-border-color;
          content: 'اختيار ملف';
        }
        html[lang="en"] & {
          content: 'Choose a file';
        }
        @include gradient-bg($custom-file-button-bg);
        @include border-radius(0 $custom-file-border-radius $custom-file-border-radius 0);
      }
    }

    @each $lang, $value in $custom-file-text {
      &:lang(#{$lang}) ~ .managed-file-placeholder::after {
        content: $value;
      }
    }

    &+ .messages--error.file-upload-js-error {
      color: #E30613;
      @include rem(margin-bottom, 40px);

      @include media-breakpoint-up(lg) {
        margin-left: 35%;

        @include rtl() {
          margin-left: 0;
          margin-right: 35%;
        }
      }
    }
  }
}
